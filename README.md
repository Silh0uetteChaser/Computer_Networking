## Computer_Network_Transport_Layer_and_Application_Layer

## 概述
> 传输层在端系统中实现
>
> 为运行在不同主机上的进程之间提供了逻辑通信
>
> 与网络层的关系 
>
>> 网络层提供主机到主机的通信
>>
>> 运输层协议提供的报文受限制于底层网络层下协议
>>
>>> 时延保证与带宽保证依赖于网络层
>>>
>> 运输层协议也能提供某些服务而不依赖于底层网络层协议
>>
>>> 可靠数据传输，数据加密
>>>

## 多路复用和多路分解
> 含义
>
> UDP套接字由一个二元组来标识：目的IP，目的端口号
>
> TCP套接字由一个四元组来标识：本地IP，本地端口号，目的IP，目的端口号
> 
> 连接套接字与进程并非一一对应
> 
>> 当前流行做法：一个进程多个线程多个套接字
>>
> 持久HTTP：在整个连接持续的期间，只使用一个套接字
>
> 非持久HTTP：每一对请求响应都会创建一个TCP连接并随后关闭
>

## 无连接传输协议 用户数据报协议 UDP
> 概述
>
>> 在IP协议的基础上只增加了多路复用分解以及少量的差错检测功能
>>
>> 优点
>>
>>> 对于发送数据的应用层时间控制更为细化
>>>
>>> 无序连接的建立
>>>
>>> 无状态连接
>>>
>>> UDP报文首部overhead小，8字节
>>>
>> 使用UDP的应用可以实现可靠数据传输：通过在应用程序自身建立可靠性机制来完成
>>
>> UDP报文结构
>>
>> UDP校验和
>>
>>> 为什么在链路层拥有差错检测的情况下，UDP还要提供校验和？
>>>
>>> 思路：系统设计中的端到端原则
>>>

##可靠数据传输原理
> 构造可靠数据传输协议
>
> 基于流水线技术的可靠传输协议
>
> Go-back-N (GBN)
>
>> GBN发送方必须响应三种类型的事件
>>
>>> 上层调用
>>>
>>> 收到一个ACK，GBN采用累计确认的方式，表明接收方正确接收N以前的所有分组。包含N。
>>>
>>> 超时事件，重新传送所有已经被发送但还没有被确认的分组。
>>> 
>>> 接收方维护expectedseqnum
>>>
>>> 发送方维护窗口上下边界以及nextseqnum，以及最早的已被发送但未被确认的分组
>>>
> 选择重传 Selected
